<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><title>R: Write, compile, and build a pomp object using native codes</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<link rel="stylesheet" type="text/css" href="R.css">
</head><body>

<table width="100%" summary="page for pompBuilder {pomp}"><tr><td>pompBuilder {pomp}</td><td align="right">R Documentation</td></tr></table>

<h2>Write, compile, and build a pomp object using native codes</h2>

<h3>Description</h3>

<p><code>pompBuilder</code> is a tool for producing compiled <code>pomp</code> objects.
It was an early attempt to facilitate the use of compiled codes but has been replaced by the more flexible use of <code><a href="csnippet.html">Csnippet</a></code>s in the regular <code>pomp</code> constructor function.
It is not being actively maintained and users are encouraged to migrate to using <code><a href="csnippet.html">Csnippet</a></code>s.
</p>


<h3>Usage</h3>

<pre>
pompBuilder(data, times, t0, name, statenames, paramnames, 
            tcovar, covar,
            rmeasure, dmeasure, step.fn, step.fn.delta.t,
            skeleton, skeleton.type = c("map","vectorfield"),
            skelmap.delta.t = 1,
            parameter.transform, parameter.inv.transform,
            rprior, dprior, globals, ..., save = FALSE)
</pre>


<h3>Arguments</h3>

<table summary="R argblock">
<tr valign="top"><td><code>data, times, t0</code></td>
<td>

<p>The data, times, and zero-time.
See <code><a href="pomp.html">pomp</a></code> for more information.
<code>data</code> must be a data-frame.
</p>
</td></tr>
<tr valign="top"><td><code>name</code></td>
<td>

<p>character; the stem of the name for the files that will be produced.
</p>
</td></tr>
<tr valign="top"><td><code>statenames, paramnames</code></td>
<td>

<p>names of state-variables and parameters, respectively
</p>
</td></tr>
<tr valign="top"><td><code>tcovar, covar</code></td>
<td>

<p>optional.
<code>covar</code> is a data-frame containing covariates (variables in columns, timepoints in rows);
<code>tcovar</code> is the name of the column containing time.
</p>
</td></tr>
<tr valign="top"><td><code>rmeasure, dmeasure</code></td>
<td>

<p>C codes implementing the measurement model
</p>
</td></tr>
<tr valign="top"><td><code>step.fn, step.fn.delta.t</code></td>
<td>

<p><code>step.fn</code> is a C code that implements an Euler step function.
The Euler time-step is <code>step.fn.delta.t</code>, which should be a positive number.
</p>
</td></tr>
<tr valign="top"><td><code>skeleton, skeleton.type, skelmap.delta.t</code></td>
<td>

<p><code>skeleton</code> is a C code that implements the deterministic skeleton.
As in <code><a href="pomp.html">pomp</a></code>, <code>skeleton.type</code> indicates whether the skeleton is a map (discrete-time) or vectorfield (continuous-time).
If the former, <code>skelmap.delta.t</code> is the time-step of the map.
</p>
</td></tr>
<tr valign="top"><td><code>parameter.transform, parameter.inv.transform</code></td>
<td>

<p>optional C codes that implement parameter transformations.
<code>parameter.transform</code> maps parameters from the estimation scale to the natural scale;
<code>parameter.inv.transformation</code> maps them from the natural scale to the estimation scale.
</p>
</td></tr>
<tr valign="top"><td><code>rprior, dprior</code></td>
<td>

<p>C codes implementing the prior distribution
</p>
</td></tr>
<tr valign="top"><td><code>globals</code></td>
<td>

<p>optional.
C codes here will be included verbatim in the generated code and compiled into the shared-object library.
</p>
</td></tr>
<tr valign="top"><td><code>...</code></td>
<td>

<p>additional arguments are passed to <code><a href="pomp.html">pomp</a></code>
</p>
</td></tr>
<tr valign="top"><td><code>save</code></td>
<td>

<p>logical; if TRUE, the resulting C code will be saved in the current working directory.
The shared-object library will also be created in this directory.
If FALSE, the C code and shared-object library will be created in the temporary directory.
</p>
</td></tr>
</table>


<h3>Details</h3>

<p><code>pompBuilder</code> with <code>save=TRUE</code> assumes that files can be written to the current working directory and that dynamic shared objects can be compiled and linked, i.e., that <code>R CMD SHLIB</code> will work.
This will not typically be the case in out-of-the-box Windows installations.
</p>


<h3>Value</h3>

<p>The constructed <code>pomp</code> object.
A side-effect is the writing and compilation of a C code into a dynamics shared object.
</p>
<p><STRONG>Parallel computing caution:</STRONG>
note that, since a side-effect of running <code>pompBuilder</code> is the writing and compilation of a file, caution must be used when running parallel computations.
Simultaneous execution of <code>pompBuilder</code> on nodes sharing a common disk will cause all nodes to attempt to write the same file at the same time;
the results will be undefined.
If multiple nodes are to work on the same <code>pomp</code> object built by <code>pompBuilder</code>, first run <code>pompBuilder</code> once (with <code>save = TRUE</code>) to write the C file and compile it into a dynamic shared object file.
The <code>pomp</code> object returned by <code>pompBuilder</code> can then be shared with all worker nodes.
</p>


<h3>Author(s)</h3>

<p>Aaron A. King <a href="mailto:kingaa at umich dot edu">kingaa at umich dot edu</a></p>


<h3>See Also</h3>

<p><code><a href="pomp.html">pomp</a></code>, <code><a href="csnippet.html">Csnippet</a></code>
</p>

<hr><div align="center">[Package <em>pomp</em> version 0.62-5 <a href="00Index.html">Index</a>]</div>
</body></html>
